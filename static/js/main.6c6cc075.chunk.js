(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{193:function(e,t,a){e.exports=a.p+"static/media/006-thunderstorm.a3ae7e9e.svg"},194:function(e,t,a){e.exports=a.p+"static/media/019-raining.f334d20a.svg"},195:function(e,t,a){e.exports=a.p+"static/media/023-rain-4.66e73bdb.svg"},196:function(e,t,a){e.exports=a.p+"static/media/016-snowing-1.d416e972.svg"},197:function(e,t,a){e.exports=a.p+"static/media/031-cloudy.a510d1e4.svg"},198:function(e,t,a){e.exports=a.p+"static/media/013-sunny.fa3a4662.svg"},199:function(e,t,a){e.exports=a.p+"static/media/035-cloud.e12bfaaf.svg"},200:function(e,t,a){e.exports=a.p+"static/media/empty.25fc67bb.svg"},202:function(e,t,a){e.exports=a(409)},408:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);a(203),a(215);var n=a(0),r=a.n(n),c=a(90),i=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(44),l=a(201),s=a(28),m=Object(l.a)((function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_CURRENT":return Object(s.a)(Object(s.a)({},e),{},{data:Object(s.a)(Object(s.a)({},e.data),{},{current:n})});case"SET_FORECAST":return Object(s.a)(Object(s.a)({},e),{},{data:Object(s.a)(Object(s.a)({},e.data),{},{forecast:n})});case"HANDLE_SEARCH":return Object(s.a)(Object(s.a)({},e),{},{search:n});default:return Object(s.a)({},e)}}),{data:{current:{},forecast:{}},search:""},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),u=a(33),d=function(e){var t=Object(o.d)(),a=Object(n.useState)(""),c=Object(u.a)(a,2),i=c[0],l=c[1],s=Object(o.c)(),m=function(e){if(e.preventDefault(),i&&""!==i.trim())return d(i)},d=function(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=bdb758c73d929483146ad6c4d174a694")).then((function(e){return e.json()})).then((function(e){s({type:"SET_CURRENT",payload:e}),"404"!==e.cod&&fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.coord.lat,"&lon=").concat(e.coord.lon,"&exclude=current,minutely,hourly,alerts&appid=bdb758c73d929483146ad6c4d174a694")).then((function(e){return e.json()})).then((function(e){return s(function(e){return{type:"SET_FORECAST",payload:e}}(e))})).catch((function(e){return console.log(e)}))}))},f=function(e){l(e),s({type:"HANDLE_SEARCH",payload:e}),d(t.getState().search)},p=Object(n.useCallback)((function(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(e){fetch("https://ipinfo.io/json?token=839702aade76be").then((function(e){return e.json()})).then((function(e){f(e.city)}))}),(function(e){f("Kiyv")})):f("Kiyv")}),[s]);return Object(n.useEffect)((function(){p()}),[p]),r.a.createElement("form",{className:"search__bar",onSubmit:m},r.a.createElement("input",{type:"text",placeholder:"Your City",value:i,className:"text--reg search__input",onChange:function(e){return l(e.target.value)},onBlur:m}),r.a.createElement("span",{className:"search__input-bg"}),r.a.createElement("input",{type:"submit",className:"search__button",value:""}))},f=(a(408),function(e){return r.a.createElement("div",{className:"app__background-wrapper"},r.a.createElement("div",{className:"app__background"}))}),p=["Sun","Mon","Tue","Wen","Thu","Fri","Sat"],_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],E=a(193),h=a.n(E),x=a(194),g=a.n(x),b=a(195),v=a.n(b),y=a(196),N=a.n(y),w=a(197),O=a.n(w),j=a(198),S=a.n(j),k=a(199),F=a.n(k),C=function(e){return D(null!==e&&void 0!==e?e:new Date(Date.now()))},D=function(e){if(e){var t={},a=new Date(e);return t.year=a.getFullYear(),t.month=a.getMonth()+1,t.day=a.getDate(),t.monthLiteral=_[a.getMonth()],t.dayLiteral=p[a.getDay()],t}return{}},L=function(e){return e>=200&&e<300?h.a:e>=300&&e<400?g.a:e>=500&&e<600?v.a:e>=600&&e<700?N.a:e>=700&&e<800?O.a:800===e?S.a:e>=801&&e<900?F.a:void 0},T=function(e){var t=e.current,a=t.weather,c=t.main,i=Object(n.useState)({}),o=Object(u.a)(i,2),l=o[0],s=o[1];return Object(n.useEffect)((function(){s(C())}),[]),"404"===t.cod?null:r.a.createElement("section",{className:"dashboard"},r.a.createElement("div",{className:"dashboard__icon"},r.a.createElement("img",{src:L(a[0].id),alt:L(a[0].main),className:"dashboard__icon-image"}),r.a.createElement("p",{className:"text text--reg dashboard__icon-text"},a[0].main)),r.a.createElement("div",{className:"dashboard__temperature"},r.a.createElement("h1",{className:"text text--header dashboard__temperature-text--main"},Math.round(c.temp-273.15).toFixed(1),"\xb0C"),r.a.createElement("h3",{className:"text text--orange text--header dashboard__temperature-text--fl"},"Feels like ",Math.round(c.feels_like-273.15).toFixed(1),"\xb0C")),r.a.createElement("div",{className:"dashboard__date"},r.a.createElement("p",{className:"text text--reg dashboard__date-text"},l.dayLiteral,", ",r.a.createElement("span",{className:"text--orange"},l.day," ",l.monthLiteral," ",l.year))))},M=function(e){var t=e.current,a=t.main,n=t.wind;return"404"===t.cod?null:r.a.createElement("ul",{className:"list info"},function(e){var t=a.humidity,c=a.pressure,i=n.speed,o=n.deg;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"text text--reg info__item"},r.a.createElement("p",{className:"text info__text--key info__text--humidity"},"Humidity"),r.a.createElement("strong",{className:"text info__text--value"},t," %")),r.a.createElement("li",{className:"text text--reg info__item"},r.a.createElement("p",{className:"text info__text--key info__text--pressure"},"Air pressure"),r.a.createElement("strong",{className:"text info__text--value"},(.750063755419211*c).toFixed(2),"mm")),r.a.createElement("li",{className:"text text--reg info__item"},r.a.createElement("p",{className:"text info__text--key info__text--wind"},"Wind"),r.a.createElement("strong",{className:"text info__text--value"},i,"m/s ",function(e){return e>=0&&e<45?"\ud83e\udc6c":e>=45&&e<90?"\ud83e\udc69":e>=90&&e<135?"\ud83e\udc6d":e>=135&&e<180?"\ud83e\udc6a":e>=180&&e<225?"\ud83e\udc6e":e>=225&&e<270?"\ud83e\udc6b":e>=270&&e<315?"\ud83e\udc6f":e>=315&&e<360?"\ud83e\udc68":void 0}(o))))}())},A=(a(192),function(e){var t=e.date,a=e.weather,n=e.temperature,c=e.feelsLike;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text text--reg slider__item-text--date"},t.dayLiteral,", ",t.day,"\xa0",t.monthLiteral,"\xa0",t.year),r.a.createElement("img",{src:L(a[0].id),alt:a[0].main,className:"slider__item-logo"}),r.a.createElement("div",null,r.a.createElement("p",{className:"text text--reg slider__item-text--temperature"},n,"\xb0C"),r.a.createElement("p",{className:"text text--orange text--reg slider__item-text--fl"},"Feels like ",c,"\xb0C")))}),R=function(e){var t=e.data,a=Object(n.useState)([]),c=Object(u.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){t.length>0&&o(t)}),[t]),r.a.createElement("ul",{className:"list slider"},i.map((function(e,t){var a=e.temp,n=e.feels_like,c=e.weather,i=a.min,o=a.max,l=n.day,s=n.night,m=n.eve,u=n.morn,d=Date.now()+864e5*(t+1),f=C(d),p=Math.round((i+o)/2-273.15).toFixed(1),_=Math.round((l+s+m+u)/4-273.15).toFixed(1);return r.a.createElement("li",{className:"text--center slider__item",key:"SlideStatic_".concat(t)},r.a.createElement(A,{date:f,weather:c,temperature:p,feelsLike:_}))})))},W=a(412),H=a(411),J=function(e){var t=e.data,a=Object(n.useState)([]),c=Object(u.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){t.length>0&&o(t)}),[t]),r.a.createElement(W.a,{slidesPerView:3,loop:!1,className:"slider"},i.map((function(e,t){var a=e.temp,n=e.feels_like,c=e.weather,i=a.min,o=a.max,l=n.day,s=n.night,m=n.eve,u=n.morn,d=Date.now()+864e5*(t+1),f=C(d),p=Math.round((i+o)/2-273.15).toFixed(1),_=Math.round((l+s+m+u)/4-273.15).toFixed(1);return r.a.createElement(H.a,{className:"text--center slider__item",key:"SlideDynamic_".concat(t)},r.a.createElement(A,{date:f,weather:c,temperature:p,feelsLike:_}))})))},U=function(e){var t=e.forecast,a=Object(n.useState)(window.innerWidth),c=Object(u.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(e){window.addEventListener("resize",(function(e){return o(window.innerWidth)})),window.addEventListener("rotationchange",(function(e){return o(window.innerWidth)}))}),[]),0===Object.keys(t).length?null:r.a.createElement("div",{className:"slider--mobile"},i>1024?r.a.createElement(R,{data:t.daily}):r.a.createElement(J,{data:t.daily}))},X=a(200),B=a.n(X),I=function(e){var t=e.city,a=void 0===t?"city name":t;return r.a.createElement("section",{className:"empty"},r.a.createElement("img",{src:B.a,alt:"Empty",className:"empty__icon"}),r.a.createElement("p",{className:"text text--reg empty__text"},"Can't get data for ",r.a.createElement("span",{className:"text--orange"},a)))},V=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"text text--center text--default text--reg footer__text"},"Check my ",r.a.createElement("a",{href:"https://github.com/MonkeeAlert/",target:"_blank",rel:"noopener noreferrer",className:"text--link text--orange"},"GitHub")))},K=Object(o.b)((function(e){return{data:e.data}}))((function(e){var t=Object(o.d)(),a=t.getState().data,n=a.current,c=a.forecast;return 0===Object.values(n).length?null:404===+n.cod?r.a.createElement(I,{city:t.getState().search}):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,r.a.createElement(T,{current:n}),r.a.createElement(U,{forecast:c}),r.a.createElement(M,{current:n})),r.a.createElement(V,null))}));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:m},r.a.createElement(f,null),r.a.createElement(d,null),r.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[202,1,2]]]);
//# sourceMappingURL=main.6c6cc075.chunk.js.map